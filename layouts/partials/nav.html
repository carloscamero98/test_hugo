{{- $currentPage := . }}
{{- $menuID := .menuID }}
<div class="containerCenter navBarContainer"  style="width: 100%;">
  <nav class="navBar">
    {{ $image := resources.Get "images/cropped-logo.png" }}
    <a href="/">
      <img src="{{ $image.RelPermalink }}" alt="CIP Reporting's logo" width="200" height="66">
    </a>
    <input type="checkbox" class="navToggler" id="navToggler">
    <nav class="navItems">
      <ul>
        {{- range site.Menus.main }}
        <li class="navElement">
            <a  href="{{ .URL }}">
              {{ .Name }}
            </a>
            {{if .HasChildren }} 
            <input type="checkbox" class="subNavToggler" id="{{.Name}}" >
            <label for="{{.Name}}" class="subNavTogglerMenu" name="subNavToggler">

              {{partial "svg/down_arrow.html"}}

            </label>
              <ul class="subMenu">
                {{ range .Children }}
                <a class="subNavElement" href="{{ .URL }}">
                <li class="subNavElement" >
                    {{ .Name }}
                </li>
                </a>
                {{end}}
              </ul>
            {{- end}}
        </li>
        {{- end }}
        <li class="navElement">
          <a class="mainButton" href="/request_demo/request_demo2/">
            <span>
              Request a Demo
            </span>
          </a>
        </li>
      </ul>
    </nav>
    <label for="navToggler" class="navTogglerMenu" name="navToggler">
      <span class="hamMenuIcon">{{partial "svg/hamburguer_menu.html"}}</span>
      <span class="closeMenuIcon">{{partial "svg/close_menu.html"}}</span>
    </label>
  </nav>
</div>

<style scoped>

  a:hover > li {
    color: var(--accent_orange);
  }

  .navTogglerMenu{
    margin-right: 20px;
  }

 .navBarContainer {
  top: 0px;
  left: 0px;
  position: fixed;
  align-items: center;
  background-color: white;
  z-index:1;
}

nav.navBar{
  display: flex; 
  align-items: center; 
  justify-content: space-between; 
  width: 100%; 
  padding: 10px; 
  max-width: 1450px;
}

.navItems{
  display: none;
  position: absolute;
  top:100%;
  left: 0;
}

.navElement {
  display: inline-block;
  color:var(--light_blue) ;
  padding: 20px;
  font-family: Roboto;
  font-weight: 900;
  font-size: 17px;
  cursor: pointer;
}

ul.subMenu  {
  display: none;
  background-color:white;
  border-radius: 10px;
  box-shadow: 0px 0px 5px rgb(212, 212, 212);
  width: 250px;
  padding: 8px;
  padding-top: 16px;
  position: absolute; 
}

.subNavElement{ 
  font-size: 15px;
  font-weight: 400;
  color:black; 
  padding:7px;
  font-family: Roboto;
  cursor: pointer;
  margin-bottom: 3px;
}

.navElement:hover {
  color:var(--accent_orange);
}



a.subNavElement {
  color: var(--accent_orange);
}

a.subNavElement:hover {
  color: var(--dark_blue);
}

img.logo {
  width: 200px;
}

.navTabWrapper{
  width: 1500px;
  background-color: white;
}

.navToggler, .subNavToggler {
    display: none;
  }

.closeMenuIcon {
  display: none;
}

@media screen and (min-width: 1300px) {
  .navItems{
    all: unset;
  }

  .subNavToggler, .navTogglerMenu  {  
   display: none;
}

  .navElement:hover > .subMenu {
    display: block;
}
}

@media screen and (max-width: 1300px) {
  .navElement{
    display: block;
  }

  .navToggler:checked ~ .navTogglerMenu .hamMenuIcon{  
  display: none;
}

.navToggler:checked ~ .navTogglerMenu .closeMenuIcon{  
  display: block;
}

  .navToggler:checked ~ .navItems{  
  display: block;
}

  .navItems{
    background-color: white;
    width: 100%;
    text-align: center;
  }

  ul.subMenu{
    position: relative;
    margin-top: 10px;
    width: 100%;
    padding: 0;
  }

  .subNavToggler:checked ~ .subMenu{  
   display: block;
}
}
</style>